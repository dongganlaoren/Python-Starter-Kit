<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  {% block head_meta %}{% endblock %}

  <title>{% block title %}æ§åˆ¶å°{% endblock %} - FlaskStarterKit</title>

  {% block styles %}
    <link rel="stylesheet" href="{{ url_for('static', filename='vendor/bootstrap-5.3.8/css/bootstrap.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/admin.css') }}">
  {% endblock %}

  {% block extra_css %}{% endblock %}
</head>
<body>
  <a class="visually-hidden-focusable" href="#main">è·³åˆ°ä¸»è¦å†…å®¹</a>

  <div class="d-flex" id="layout">
    <nav id="sidebar" aria-label="ä¾§è¾¹æ å¯¼èˆª">
      {% block sidebar %}
        {% set _endpoint = request.endpoint or '' %}
        <div class="logo">
          <span>FlaskStarterKit</span>
        </div>

        <ul class="nav flex-column mt-3">
          <li class="nav-item">
            <a class="nav-link {% if _endpoint.startswith('main.') and _endpoint != 'main.users_index' %}active{% endif %}" href="{{ url_for('main.dashboard') }}">
              {{ _('ä»ªè¡¨ç›˜') }}
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link {% if _endpoint == 'main.users_index' %}active{% endif %}" href="{{ url_for('main.users_index') }}">
              {{ _('ç”¨æˆ·') }}
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">
              {{ _('ç³»ç»Ÿè®¾ç½®') }}
            </a>
          </li>
        </ul>
      {% endblock %}
    </nav>

    <main id="main" class="flex-grow-1" tabindex="-1">
      <header class="top-navbar d-flex justify-content-between align-items-center">
        {% block navbar_left %}
          <button
            class="btn btn-sm btn-outline-secondary d-md-none"
            type="button"
            id="sidebarCollapse"
            aria-controls="sidebar"
            aria-expanded="false"
          >
            èœå•
          </button>
        {% endblock %}

        {% block navbar_right %}
          <div class="ms-auto d-flex align-items-center">
            <div class="dropdown me-3">
              <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                ğŸŒ {{ _('è¯­è¨€') }}
              </a>
              <ul class="dropdown-menu dropdown-menu-end">
                <li><a class="dropdown-item" href="{{ url_for('i18n.set_language', lang='zh_CN') }}">ä¸­æ–‡</a></li>
                <li><a class="dropdown-item" href="{{ url_for('i18n.set_language', lang='en') }}">English</a></li>
              </ul>
            </div>

            {% if current_user.is_authenticated %}
              <span class="text-muted">{{ current_user.email }}</span>
            {% else %}
              <span class="text-muted">{{ _('è®¿å®¢') }}</span>
            {% endif %}
          </div>
        {% endblock %}
      </header>

      <div class="content-wrapper">
        {% block content %}{% endblock %}
      </div>

      {% block footer %}
        <footer class="text-center py-3 text-muted border-top mt-auto">
          <small>&copy; 2026 FlaskStarterKit - Professional Management System</small>
        </footer>
      {% endblock %}
    </main>
  </div>

  {% block scripts %}
    <script src="{{ url_for('static', filename='vendor/bootstrap-5.3.8/js/bootstrap.bundle.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/common.js') }}"></script>
  {% endblock %}

  {% block extra_js %}{% endblock %}
</body>
</html>

