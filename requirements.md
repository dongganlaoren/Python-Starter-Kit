# FlaskStarterKit 需求文档 (PRD)

## 1. 项目愿景
创建一个基于 Python Flask 的通用后端项目起步框架（Starter Kit）。该框架具备高度的可重用性，通过严格的命名规范和模块化设计，支持作为多个独立业务项目的基础底层。

## 2. 核心技术栈
* **后端**: Python 3.x + Flask (采用工厂模式 `create_app`)
* **数据库**: MySQL 8.0+ (使用 Flask-SQLAlchemy ORM)
* **国际化**: Flask-Babel (默认简体中文 `zh_CN`，支持英文 `en`)
* **前端**: 手写 HTML5 + CSS3，辅助使用 Bootstrap 5
* **校验**: 前端采用 Bootstrap 5 最佳实践或 Pristine.js，后端采用 Flask 逻辑校验
* **日志**: 强制使用 Flask 内置 `app.logger` (带 RotatingFileHandler)

## 3. 开发守则 (AI 指令)
1.  **语言优先**: 沟通与代码注释必须使用**中文优先**。
2.  **逐步实施**: 任务必须按步骤拆解，待用户确认后再进行下一步，不一次性堆砌大量代码。
3.  **代码规范**: 
    * 代码首行必须标注**文件相对路径**。
    * 每次给出**完整文件内容**，禁止代码片段。
    * 必须包含详细的**中文注释**。
4.  **日志规范**: 在路由入口、数据库增删改查、异常捕获位置必须通过 `app.logger` 记录关键信息。

## 4. 命名与结构规范
### 4.1 目录结构

* `/app/models/`: 存放所有 ORM 模型。
* `/app/routes/`: 存放蓝图（Blueprint）路由。
* `/app/static/`: 存放手写的 CSS 和 JS 文件。
* `/app/templates/`: 存放手写的 HTML 模板。

### 4.2 命名空间契约
* **框架基础表**: 数据库表名必须以 `sk_` 开头（如 `sk_user`）。
* **业务项目表**: 数据库表名建议以项目简写开头（如 `pro_`）。
* **Git 分支**: 
    * `main`: 存放框架核心功能，持续更新完善。
    * `project-*`: 基于 main 分支派生的具体业务分支。

## 5. 功能模块规划
### 第一阶段：基础设施 (已完成)
* [x] 项目工厂模式骨架搭建
* [x] 日志轮转配置 (RotatingFileHandler)
* [x] 国际化 (Babel) 基础配置
* [x] MySQL 数据库连接配置

### 第二阶段：数据层与 UI 布局 (进行中)
* [x] `BaseModel` 抽象基类（含自动时间戳）
* [x] `SkUser` 框架基础用户模型
* [x] 手写 `base.html` 全局专业后台布局 (Sidebar + Navbar)

### 第三阶段：认证与权限 (待开始)
* [ ] 基于 `sk_user` 的登录/注销功能。
* [ ] 前端表单验证 (Bootstrap/Pristine 实践)。
* [ ] 登录拦截器（判断用户是否登录）。

### 第四阶段：系统工具与扩展
* [ ] 多语言切换功能的具体路由实现。
* [ ] 全局错误处理页面 (404, 500)。
* [ ] 通用 API 返回格式封装。